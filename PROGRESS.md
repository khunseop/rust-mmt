# 프로젝트 진행률 문서

## 전체 진행 상황

**전체 진행률: 25%** (Phase 1 완료)

---

## Phase별 진행 상황

### ✅ Phase 1: 기본 구조 및 탭 UI (완료)

**진행률: 100%** (2024-01-XX 완료)

#### 완료된 작업

1. **프로젝트 구조 설정**
   - ✅ Cargo.toml 의존성 추가 (ratatui, crossterm, serde, tokio 등)
   - ✅ 기본 모듈 구조 생성 (app.rs, ui.rs, crossterm.rs)

2. **앱 상태 관리**
   - ✅ App 구조체 정의
   - ✅ 탭 인덱스 및 상태 관리 (TabIndex enum)
   - ✅ 각 탭별 상태 구조체 (ResourceUsageState, SessionBrowserState, TrafficLogsState)
   - ✅ 프록시 데이터 구조 정의

3. **UI 구현**
   - ✅ 탭 기반 UI (Tabs 위젯)
   - ✅ 각 탭의 기본 레이아웃
   - ✅ Table 위젯 준비 (자원사용률, 세션브라우저 탭)
   - ✅ 키보드 네비게이션 (탭 전환, 행 선택)

4. **터미널 설정**
   - ✅ Crossterm 백엔드 설정
   - ✅ 이벤트 루프 구현
   - ✅ 키보드 이벤트 처리

5. **설정 파일**
   - ✅ config/proxies.json 예제 생성
   - ✅ config/resource_config.json 예제 생성
   - ✅ 설정 파일 읽기 기능

#### 현재 상태

- ✅ 기본 TUI 앱 실행 가능
- ✅ 탭 전환 및 네비게이션 작동
- ✅ 빈 테이블 레이아웃 표시
- ⚠️ 실제 데이터 수집 기능은 아직 미구현

#### 테스트 결과

```bash
$ cargo build
   Compiling rust-mmt v0.1.0
   Finished dev [unoptimized + debuginfo] target(s) in 4.91s

$ cargo run
# 앱 실행 성공, 탭 전환 및 기본 UI 작동 확인
```

---

### 🔄 Phase 2: 자원 사용률 모니터링 (진행 예정)

**진행률: 0%**

#### 계획된 작업

1. **SNMP 클라이언트 구현**
   - [ ] SNMP 라이브러리 선택 및 통합
   - [ ] SNMP GET 요청 구현
   - [ ] SNMP WALK 요청 구현 (인터페이스 정보 수집용)
   - [ ] 에러 처리 및 타임아웃 설정

2. **SSH 클라이언트 구현**
   - [ ] SSH 라이브러리 선택 (russh 또는 ssh2)
   - [ ] SSH 연결 및 명령 실행
   - [ ] 메모리 정보 파싱 (mem OID가 "ssh"인 경우)

3. **자원 수집 기능**
   - [ ] 프록시별 SNMP 수집 로직
   - [ ] CPU, 메모리 등 지표 수집
   - [ ] 비동기 수집 (여러 프록시 동시 수집)
   - [ ] 수집 결과 데이터 구조화

4. **UI 통합**
   - [ ] 수집 버튼/키 바인딩 (예: 'C' 키)
   - [ ] Table 위젯에 실제 데이터 표시
   - [ ] 수집 중 상태 표시
   - [ ] 에러 메시지 표시

5. **CSV 저장 기능**
   - [ ] CSV 파일 생성 로직
   - [ ] 타임스탬프 포함 파일명 생성
   - [ ] 데이터 포맷팅 및 저장
   - [ ] logs/ 디렉토리 자동 생성

#### 예상 소요 시간

- SNMP 클라이언트: 2-3일
- SSH 클라이언트: 1-2일
- 수집 로직 및 UI 통합: 2-3일
- CSV 저장: 1일
- **총 예상: 6-9일**

---

### 📋 Phase 3: 세션 브라우저 (대기 중)

**진행률: 0%**

#### 계획된 작업

1. **SSH 세션 조회**
   - [ ] 프록시 서버에 SSH 접속
   - [ ] 세션 조회 명령 실행 (MWG 명령어)
   - [ ] 출력 파싱

2. **세션 데이터 파싱**
   - [ ] 세션 정보 추출 (트랜잭션, 클라이언트 IP, URL 등)
   - [ ] 데이터 구조화

3. **UI 통합**
   - [ ] 조회 버튼/키 바인딩 (예: 'S' 키)
   - [ ] Table 위젯에 세션 목록 표시
   - [ ] 필터링 기능 (텍스트 검색)

4. **CSV 저장**
   - [ ] 세션 데이터 CSV 저장

#### 예상 소요 시간

- SSH 세션 조회: 2일
- 파싱 및 UI 통합: 2일
- **총 예상: 4일**

---

### 📋 Phase 4: 트래픽 로그 분석 (대기 중)

**진행률: 0%**

#### 계획된 작업

1. **로그 조회**
   - [ ] SSH를 통한 원격 로그 조회
   - [ ] 파일 업로드 처리

2. **로그 파싱**
   - [ ] 로그 라인 파싱
   - [ ] 필드 추출 (클라이언트 IP, 호스트, URL 등)

3. **분석 기능**
   - [ ] TOP N 분석 (클라이언트, 호스트, URL별)
   - [ ] 통계 계산

4. **UI 통합**
   - [ ] 분석 버튼/키 바인딩 (예: 'A' 키)
   - [ ] Table 위젯으로 TOP N 표시
   - [ ] BarChart로 시각화

5. **CSV 저장**
   - [ ] 분석 결과 CSV 저장

#### 예상 소요 시간

- 로그 조회 및 파싱: 3일
- 분석 로직: 2일
- UI 통합: 2일
- **총 예상: 7일**

---

## 기술 스택 현황

### ✅ 구현 완료

- `ratatui`: TUI 프레임워크
- `crossterm`: 터미널 제어
- `serde` + `serde_json`: JSON 직렬화
- `tokio`: 비동기 런타임 (준비 완료)
- `anyhow`: 에러 처리
- `chrono`: 시간 처리

### 🔄 추가 예정

- SNMP 라이브러리 (선택 필요)
  - 옵션 1: `snmp` 크레이트
  - 옵션 2: 직접 UDP 구현
- SSH 라이브러리 (선택 필요)
  - 옵션 1: `russh` (순수 Rust)
  - 옵션 2: `ssh2` (libssh2 바인딩)
- `csv`: CSV 파일 처리

---

## 파일 구조

```
rust-mmt/
├── src/
│   ├── main.rs          ✅ 완료
│   ├── app.rs           ✅ 완료
│   ├── ui.rs            ✅ 완료
│   └── crossterm.rs     ✅ 완료
├── config/
│   ├── proxies.json     ✅ 완료 (예제)
│   └── resource_config.json ✅ 완료 (예제)
├── logs/                ✅ 생성됨 (비어있음)
├── Cargo.toml           ✅ 완료
├── README.md            ✅ 완료
├── ANALYSIS.md          ✅ 완료
└── PROGRESS.md          ✅ 완료 (이 문서)
```

---

## 다음 단계 (Phase 2 시작)

### 우선순위

1. **SNMP 라이브러리 선택 및 통합**
   - 라이브러리 비교 및 선택
   - 기본 SNMP GET 테스트

2. **프록시 설정 읽기 검증**
   - 설정 파일 로드 테스트
   - 프록시 목록 표시

3. **기본 SNMP 수집 구현**
   - 단일 프록시 SNMP 수집 테스트
   - CPU 지표 수집

4. **UI에 데이터 표시**
   - 수집된 데이터를 Table에 표시
   - 실시간 업데이트

---

## 알려진 이슈

### 현재 없음

Phase 1은 정상적으로 완료되었습니다.

---

## 참고 자료

- [Ratatui Demo 예제](https://ratatui.rs/examples/apps/demo/)
- [Ratatui Table 예제](https://ratatui.rs/examples/widgets/table/)
- [ANALYSIS.md](./ANALYSIS.md): 상세 설계 문서

---

## 업데이트 이력

- **2024-01-XX**: Phase 1 완료
  - 기본 TUI 구조 및 탭 UI 구현 완료
  - 설정 파일 읽기 기능 완료
  - Table 위젯 기본 레이아웃 완료

---

## 체크리스트

### Phase 1 ✅
- [x] 프로젝트 구조 설정
- [x] 앱 상태 관리
- [x] 탭 기반 UI
- [x] 터미널 설정
- [x] 설정 파일 구조

### Phase 2 (다음)
- [ ] SNMP 클라이언트
- [ ] SSH 클라이언트
- [ ] 자원 수집 기능
- [ ] CSV 저장
- [ ] UI 통합

### Phase 3
- [ ] SSH 세션 조회
- [ ] 세션 파싱
- [ ] UI 통합
- [ ] CSV 저장

### Phase 4
- [ ] 로그 조회
- [ ] 로그 파싱
- [ ] 분석 기능
- [ ] BarChart 시각화
- [ ] CSV 저장

